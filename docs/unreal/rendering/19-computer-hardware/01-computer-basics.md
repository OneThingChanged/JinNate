# 컴퓨터 기초

폰 노이만 아키텍처, 명령어 사이클을 설명합니다.

---

## 폰 노이만 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                    Von Neumann Architecture                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                         CPU                              │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │              Control Unit (CU)                     │  │   │
│  │  │  • 명령어 해석                                    │  │   │
│  │  │  • 실행 제어                                      │  │   │
│  │  │  ┌────────────────────────────────┐               │  │   │
│  │  │  │ PC │ IR │ Decoder │ Sequencer  │               │  │   │
│  │  │  └────────────────────────────────┘               │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  │                          │                               │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │          Arithmetic Logic Unit (ALU)               │  │   │
│  │  │  • 산술 연산 (+, -, ×, ÷)                        │  │   │
│  │  │  • 논리 연산 (AND, OR, NOT, XOR)                 │  │   │
│  │  │  ┌────────────────────────────────┐               │  │   │
│  │  │  │ Adder │ Multiplier │ Comparator│               │  │   │
│  │  │  └────────────────────────────────┘               │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  │                          │                               │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │                  Registers                         │  │   │
│  │  │  • 데이터 임시 저장                               │  │   │
│  │  │  ┌────────────────────────────────┐               │  │   │
│  │  │  │ R0 │ R1 │ R2 │ ... │ SP │ FLAGS│               │  │   │
│  │  │  └────────────────────────────────┘               │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │ Bus                                  │
│                          ▼                                      │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                       Memory                             │   │
│  │  ┌─────────────────────────────────────────────────┐    │   │
│  │  │  Instructions  │        Data                     │    │   │
│  │  │  (프로그램)    │     (변수, 배열)               │    │   │
│  │  └─────────────────────────────────────────────────┘    │   │
│  │  * 프로그램과 데이터가 같은 메모리에 저장 (핵심 특징) *  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 명령어 사이클

```
┌─────────────────────────────────────────────────────────────────┐
│                    Instruction Cycle                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. Fetch (인출)                                               │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ PC (Program Counter) → Memory → IR (Instruction Reg)   │   │
│  │ PC++                                                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │                                      │
│                          ▼                                      │
│  2. Decode (해석)                                              │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ IR → Decoder → 연산 종류, 피연산자 식별                │   │
│  │ 예: ADD R1, R2 → "덧셈", "R1", "R2"                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │                                      │
│                          ▼                                      │
│  3. Execute (실행)                                             │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ALU에서 연산 수행                                       │   │
│  │ 예: R1 + R2 계산                                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │                                      │
│                          ▼                                      │
│  4. Memory Access (메모리 접근, 필요 시)                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ LOAD: Memory → Register                                 │   │
│  │ STORE: Register → Memory                                │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │                                      │
│                          ▼                                      │
│  5. Write Back (결과 저장)                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 연산 결과를 목적지 레지스터에 저장                      │   │
│  │ 예: R1 = R1 + R2 결과                                  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                          │                                      │
│                          └──────────► 1. Fetch (반복)          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 버스 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                    System Bus                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   CPU                 Memory              I/O Device            │
│  ┌────┐              ┌────┐              ┌────┐                │
│  │    │              │    │              │    │                │
│  └─┬──┘              └─┬──┘              └─┬──┘                │
│    │                   │                   │                    │
│    │    Address Bus (단방향: CPU → )      │                    │
│    ├═══════════════════╪═══════════════════╡                    │
│    │    0x00001234     │                   │                    │
│    │                   │                   │                    │
│    │    Data Bus (양방향)                  │                    │
│    ├───────────────────┼───────────────────┤                    │
│    │    ◄────────────► │                   │                    │
│    │                   │                   │                    │
│    │    Control Bus                        │                    │
│    ├───────────────────┼───────────────────┤                    │
│    │    Read/Write     │                   │                    │
│    │    Interrupt      │                   │                    │
│    │    Clock          │                   │                    │
│    └───────────────────┴───────────────────┘                    │
│                                                                 │
│  버스 종류:                                                     │
│  • Address Bus: 메모리 주소 전송 (너비 = 주소 공간)           │
│  • Data Bus: 데이터 전송 (너비 = 워드 크기, 32/64bit)         │
│  • Control Bus: 제어 신호 (R/W, IRQ, Clock 등)                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 현대 시스템 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                    Modern PC Architecture                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                         ┌─────────┐                            │
│                         │   CPU   │                            │
│                         │ (IMC)   │  ← Integrated Memory       │
│                         └────┬────┘    Controller              │
│                              │                                  │
│              ┌───────────────┼───────────────┐                 │
│              │               │               │                  │
│              ▼               ▼               ▼                  │
│         ┌────────┐     ┌─────────┐     ┌─────────┐            │
│         │  DDR5  │     │  DDR5   │     │  PCIe   │            │
│         │ Memory │     │ Memory  │     │ Lanes   │            │
│         └────────┘     └─────────┘     └────┬────┘            │
│                                              │                  │
│                     ┌────────────────────────┼──────┐          │
│                     │                        │      │          │
│                     ▼                        ▼      ▼          │
│               ┌──────────┐            ┌─────────┐ ┌────┐      │
│               │   GPU    │            │  NVMe   │ │ USB│      │
│               │ (dGPU)   │            │  SSD    │ │3/4 │      │
│               └──────────┘            └─────────┘ └────┘      │
│                                                                 │
│  과거 (North/South Bridge):                                    │
│  CPU ─ Northbridge (메모리, GPU) ─ Southbridge (I/O)          │
│                                                                 │
│  현재:                                                          │
│  CPU에 Memory Controller, PCIe Controller 통합                 │
│  Chipset은 저속 I/O만 담당                                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 데이터 표현

| 단위 | 비트 수 | 용도 |
|------|---------|------|
| Bit | 1 | 최소 단위 |
| Byte | 8 | 문자, 주소 지정 단위 |
| Word | 16/32/64 | CPU 기본 처리 단위 |
| DWORD | 32 | Double Word |
| QWORD | 64 | Quad Word |

### 엔디안

```
┌─────────────────────────────────────────────────────────────────┐
│                    Endianness                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  값: 0x12345678                                                │
│                                                                 │
│  Little Endian (x86, ARM):                                     │
│  ┌──────┬──────┬──────┬──────┐                                │
│  │ 0x78 │ 0x56 │ 0x34 │ 0x12 │                                │
│  └──────┴──────┴──────┴──────┘                                │
│  주소:  낮음 ──────────────► 높음                              │
│  LSB(Least Significant Byte)가 낮은 주소에                     │
│                                                                 │
│  Big Endian (Network, 일부 RISC):                              │
│  ┌──────┬──────┬──────┬──────┐                                │
│  │ 0x12 │ 0x34 │ 0x56 │ 0x78 │                                │
│  └──────┴──────┴──────┴──────┘                                │
│  MSB(Most Significant Byte)가 낮은 주소에                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 다음 단계

[CPU 설계](02-processor-design.md)에서 파이프라인을 알아봅니다.


# 디노이징

SVGF, DLSS 등 노이즈 제거 기술을 설명합니다.

---

## 노이즈 문제

```
┌─────────────────────────────────────────────────────────────────┐
│                    RT 노이즈 문제                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  적은 샘플 (1 SPP):          많은 샘플 (1000 SPP):             │
│  ┌─────────────────┐         ┌─────────────────┐              │
│  │ ░▒░▓░▒░▓▒░▓░▒░ │         │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │              │
│  │ ▓░▒░▓░▒▓░▒░▓░▒ │         │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │              │
│  │ ░▓░▒░▓▒░▓░▒░▓░ │    →    │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │              │
│  │ (노이즈 심함)   │         │ (깨끗함)       │              │
│  └─────────────────┘         └─────────────────┘              │
│                                                                 │
│  문제: 1000 SPP는 실시간에 불가능!                             │
│  해결: 1 SPP + 디노이징                                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## SVGF (Spatiotemporal Variance-Guided Filter)

시공간 필터링으로 노이즈를 제거합니다.

```
┌─────────────────────────────────────────────────────────────────┐
│                    SVGF 파이프라인                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  입력:                                                          │
│  • 노이즈 RT 이미지 (1 SPP)                                    │
│  • G-Buffer (Normal, Depth, Motion)                            │
│  • 이전 프레임 히스토리                                        │
│                                                                 │
│  처리:                                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 1. Temporal Accumulation                                │   │
│  │    • 이전 프레임 결과 재투영                            │   │
│  │    • 유효성 검사 (Disocclusion 감지)                    │   │
│  │    • 지수 이동 평균                                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           │                                     │
│                           ▼                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 2. Variance Estimation                                  │   │
│  │    • 국소 분산 계산                                     │   │
│  │    • 높은 분산 영역 식별                                │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           │                                     │
│                           ▼                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 3. Spatial Filtering (À-Trous Wavelet)                  │   │
│  │    • Edge-aware 블러                                    │   │
│  │    • Normal, Depth로 가이드                             │   │
│  │    • 분산 높은 영역 더 강하게 필터                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## DLSS (Deep Learning Super Sampling)

AI를 사용한 업스케일링과 디노이징입니다.

```
┌─────────────────────────────────────────────────────────────────┐
│                    DLSS 파이프라인                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  입력:                                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ • 저해상도 렌더링 (예: 1080p)                           │   │
│  │ • Motion Vector                                         │   │
│  │ • Depth                                                 │   │
│  │ • 이전 프레임 (고해상도)                                │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           │                                     │
│                           ▼                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Tensor Core (Neural Network)               │   │
│  │                                                         │   │
│  │  훈련 데이터: 고품질 참조 이미지                        │   │
│  │  학습: 저해상도 → 고해상도 매핑                        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           │                                     │
│                           ▼                                     │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 출력: 고해상도 이미지 (예: 4K)                          │   │
│  │       + 시간적 안정성                                   │   │
│  │       + 디테일 복원                                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  성능: 1080p 렌더링으로 4K 출력 → 2-4배 성능 향상            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 다음 단계

[RT 하드웨어/API](05-rt-hardware-api.md)에서 DXR과 RTX를 알아봅니다.

# Chapter 02: 멀티스레드 렌더링

> 원문: https://www.cnblogs.com/timlly/p/14327537.html
> 시리즈: 剖析虚幻渲染体系 (Unreal 렌더링 시스템 분석)

현대 게임 엔진의 멀티스레딩 아키텍처와 UE의 구현을 분석합니다.

---

## 문서 구성

이 챕터는 다음 세부 문서들로 구성됩니다:

| 문서 | 주제 | 핵심 내용 |
|------|------|----------|
| [01. 멀티스레딩 기초](01-multithreading-basics.md) | 병렬 처리 개념 | 암달의 법칙, SMP, 데이터 분할 |
| [02. 스레딩 인프라](02-threading-infrastructure.md) | UE 스레딩 시스템 | TAtomic, FRunnable, Task Graph |
| [03. 그래픽 API 멀티스레딩](03-graphics-api-threading.md) | API별 멀티스레딩 | DX11/12, Vulkan, Metal |
| [04. UE 렌더링 스레드](04-ue-rendering-threads.md) | 렌더링 아키텍처 | Game/Render/RHI 스레드 분리 |
| [05. 엔진 패턴 및 동기화](05-engine-patterns-sync.md) | 고급 주제 | 다른 엔진들, 동기화 프리미티브 |

---

## 학습 로드맵

```
┌─────────────────────────────────────────────────────────────────┐
│                    Chapter 02 학습 경로                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌────────────────────┐                                         │
│  │ 01. 멀티스레딩 기초 │ ─── 왜 병렬 처리가 필요한가?             │
│  └─────────┬──────────┘                                         │
│            │                                                    │
│            ▼                                                    │
│  ┌────────────────────┐                                         │
│  │ 02. 스레딩 인프라   │ ─── UE의 스레딩 빌딩 블록               │
│  └─────────┬──────────┘                                         │
│            │                                                    │
│            ▼                                                    │
│  ┌────────────────────┐                                         │
│  │ 03. 그래픽 API     │ ─── DX12/Vulkan/Metal의 병렬화          │
│  └─────────┬──────────┘                                         │
│            │                                                    │
│            ▼                                                    │
│  ┌────────────────────┐                                         │
│  │ 04. UE 렌더링 스레드│ ─── 실제 구현과 프레임 파이프라인        │
│  └─────────┬──────────┘                                         │
│            │                                                    │
│            ▼                                                    │
│  ┌────────────────────┐                                         │
│  │ 05. 패턴 및 동기화  │ ─── 고급 기법과 다른 엔진 비교          │
│  └────────────────────┘                                         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 핵심 개념 미리보기

### UE 멀티스레드 렌더링 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                    UE 멀티스레드 렌더링 아키텍처                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐      │
│  │ Game Thread  │───→│Render Thread │───→│  RHI Thread  │      │
│  │  (Frame N)   │    │ (Frame N-1)  │    │ (Frame N-2)  │      │
│  └──────────────┘    └──────────────┘    └──────────────┘      │
│         │                   │                   │               │
│         ▼                   ▼                   ▼               │
│  ┌──────────────────────────────────────────────────────┐      │
│  │              Task Graph System                        │      │
│  └──────────────────────────────────────────────────────┘      │
│         │                                                       │
│         ▼                                                       │
│  ┌──────────────────────────────────────────────────────┐      │
│  │         Graphics API (D3D12 / Vulkan / Metal)         │      │
│  └──────────────────────────────────────────────────────┘      │
│         │                                                       │
│         ▼                                                       │
│  ┌──────────────────────────────────────────────────────┐      │
│  │              GPU (Copy / Compute / 3D)                │      │
│  └──────────────────────────────────────────────────────┘      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 프레임 파이프라이닝

| 컴포넌트 | 처리 중인 프레임 | 역할 |
|----------|------------------|------|
| **Game Thread** | Frame N | 게임 로직, 월드 업데이트 |
| **Render Thread** | Frame N-1 | 렌더링 명령 생성 |
| **RHI Thread** | Frame N-2 | GPU 명령 제출 |
| **GPU** | Frame N-3 | 실제 렌더링 |

### 핵심 스레딩 인프라

| 클래스 | 용도 |
|--------|------|
| **FRunnable** | 스레드 실행 인터페이스 |
| **FRunnableThread** | 플랫폼 독립 스레드 |
| **FQueuedThreadPool** | 스레드 풀 관리 |
| **TGraphTask** | Task Graph 태스크 |
| **FEvent** | 스레드 동기화 이벤트 |

---

## 다음 챕터

이 챕터를 완료하면 [Ch.03 렌더링 메커니즘](../03-rendering-mechanism/index.md)으로 진행하세요.

---

## 참고 자료

- [원문 시리즈 (중국어)](https://www.cnblogs.com/timlly/p/14327537.html)
- [DirectX 12 Programming Guide](https://docs.microsoft.com/en-us/windows/win32/direct3d12/)
- [Vulkan Specification](https://www.khronos.org/registry/vulkan/specs/)
- [Apple Metal Documentation](https://developer.apple.com/metal/)
---

<div style="display: flex; justify-content: space-between; align-items: center; padding: 16px 0;">
  <a href="../01-overview/07-object-hierarchy/" style="text-decoration: none;">← 이전: Ch.01 07. 개요 및 기초</a>
  <a href="01-multithreading-basics/" style="text-decoration: none;">다음: 01. 멀티스레딩 기초 →</a>
</div>
